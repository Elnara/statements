!function(){"use strict";angular.module("statement",["ngNotify","ui.bootstrap"])}(),function(){"use strict";function e(e,t,n){function a(){}function r(e){n.deleteElement(s.statements,e)}function o(){s.submit=!0,t.appform.$error.required?e.set("Пожалуйста, заполните все обязательные поля",{type:"error",position:"top",duration:5e3}):(s.submit=!1,s.statements.push(s.statement),s.statement={})}function i(e){s.sortType=!s.sortType,"date"===e&&(s.statements=n.sortingForDate(s.statements,s.sortType))}var s=this;s.currentPage=1,s.itemsPerPage=5,s.maxSize=5,s.minDate=new Date,s.remove=r,s.sent=o,s.submit=!1,s.sort=i,s.sortType=!0,s.statements=[],a()}angular.module("statement").controller("FormCtrl",e),e.$inject=["ngNotify","$scope","statementSrv"]}(),function(){"use strict";function e(){function e(e){e instanceof Date&&!isNaN(e.valueOf())||(e=new Date(+e));var t=e.getFullYear().toString(),n=(e.getMonth()+1).toString(),a=e.getDate().toString();return t+"-"+(n[1]?n:"0"+n[0])+"-"+(a[1]?a:"0"+a[0])}var t={getDate:e};return t}angular.module("statement").factory("dateFormat",e)}(),function(){"use strict";function e(){return function(e,t){return t=parseInt(t,10),e.slice(t)}}angular.module("statement").filter("offset",e)}(),function(){"use strict";function e(){function e(e,t){e.splice(t,1)}function t(e,t){return e.sort(function(e,n){return t?new Date(e.date).getTime()-new Date(n.date).getTime():new Date(n.date).getTime()-new Date(e.date).getTime()})}var n={deleteElement:e,sortingForDate:t};return n}angular.module("statement").factory("statementSrv",e)}(),function(){"use strict";function e(e){function n(t,n,a){n.bind("click",function(e){e.stopPropagation()}),e.bind("click",function(){t.vm.isOpen=!1,t.$apply()})}var a={restrict:"EA",templateUrl:"app/calendar.html",replace:!0,transclude:!0,scope:{date:"=",originalDate:"=",format:"@"},controller:t,controllerAs:"vm",bindToController:!0,link:n};return a}function t(e,t,n){function a(e){e=e||new Date;var t={0:{num:1,title:"Воскресенье"},1:{num:7,title:"Понедельник"},2:{num:6,title:"Вторник"},3:{num:5,title:"Среда"},4:{num:4,title:"Четверг"},5:{num:3,title:"Пятница"},6:{num:2,title:"Суббота"}},n=e.getDay();return t[n]}function r(e,t){return new Date(t,e,0).getDate()}function o(){}function i(){u.daysInMonth=r(u.month+1,u.year),u.prevDaysInMonth=r(u.month,u.month-2>=0?u.year:u.year-1),u.weeks=[];for(var e=1,t=u.prevDaysInMonth,n=a(new Date(u.year,u.month,1)),o=Math.ceil(u.daysInMonth/7),i=1,s=1;o>=s;s++){u.weeks[s]={};for(var m=7;m>0;m--)1===s&&7!==n.num&&0<m-n.num?u.weeks[s][7-m]={day:t-(m-n.num-1),month:u.month-1>0?u.month-1:11,year:u.month-1<0?u.year-1:u.year}:e<=u.daysInMonth?(u.weeks[s][7-m]={day:e,month:u.month,year:u.year},e++):(u.weeks[s][7-m]={day:i,month:u.month+1<12?u.month+1:0,year:u.month+1<12?u.year:u.year+1},i++)}}function s(){u.month=u.month+1<12?u.month+1:0,u.year=0===u.month?u.year+1:u.year,u.monthName=u.month.toMonthName(),i()}function m(){u.month=0<=u.month-1?u.month-1:11,u.year=11===u.month?u.year-1:u.year,u.monthName=u.month.toMonthName(),i()}function c(e){u.originalDate=new Date(e.year,e.month,e.day),u.date=t("date")(new Date(e.year,e.month,e.day),u.format),u.isOpen=!1}function l(){u.isOpen=!u.isOpen,u.day=u.date?u.originalDate.getDate():(new Date).getDate(),u.year=u.date?u.originalDate.getFullYear():(new Date).getFullYear(),u.month=u.date?u.originalDate.getMonth():(new Date).getMonth(),u.selected={day:u.day,month:u.month,year:u.year},i(),u.monthName=u.month.toMonthName()}function d(){var e=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];return e[this]}var u=this;u.isOpen=!1,u.next=s,u.previous=m,u.select=c,u.openCalendar=l,u.weekDays=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],Number.prototype.toMonthName=d,o()}angular.module("statement").directive("mtcCalendar",e),e.$inject=["$document"],t.$inject=["dateFormat","$filter","$scope"]}(),angular.module("statement").run(["$templateCache",function(e){e.put("app/calendar.html",'<div class=calendar-wrapper><div class=input-group ng-click=vm.openCalendar()><input type=text class="form-control calendar-wrapper__input" readonly ng-model=vm.date value> <span class=input-group-addon><span class="glyphicon glyphicon-calendar calendar-wrapper__icon"></span></span></div><div class=calendar-wrapper__calendar ng-if=vm.isOpen><div class=calendar-wrapper__header><i class="glyphicon glyphicon-chevron-left calendar-wrapper__left" ng-click=vm.previous()></i> <span class=calendar-wrapper__month>{{vm.monthName}} {{vm.year}}</span> <i class="glyphicon glyphicon-chevron-right calendar-wrapper__right" ng-click=vm.next()></i></div><div class=calendar-wrapper__week-days><span class=calendar-wrapper__week-day ng-repeat="day in vm.weekDays">{{day}}</span></div><div class=calendar-wrapper__week ng-repeat="week in vm.weeks"><span class=calendar-wrapper__day ng-class="{\'today\': day.isToday, \'different-month\': vm.month!==day.month, \'selected\': day.day===vm.selected.day && day.month===vm.selected.month && day.year===vm.selected.year}" ng-click=vm.select(day) ng-repeat="day in week">{{day.day}}</span></div></div></div>')}]);